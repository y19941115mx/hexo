---
title: C 语言基础(一)
date: 2019-02-17 20:31:54
tags: [C 语言, 编程入门]
---

> 高效的学习往往是带有目的性的，所以学习编程前，我们首先要弄清楚编程的目的是什么。
<!-- more -->

1. 代码 是现实世界的事物在计算机世界中的映射，正如画家手中的颜料，摄影师的光线，它是编程人员自我表达的工具。

2. 写代码 将现实世界中的事物用计算机的语言描述，让计算机乖乖为人类干活。

学习编程，主要是培养人们两个方面的能力：（1）抽象能力，将现实世界的事物抽象到计算机能处理的层面（通常是数学层面）（2）计算机思维，流畅地把人类语言的表述转换成计算机语言。

编程语言其实是人类和计算机交流时使用的一门外语。

### 代码执行流程

简单来说，一个C程序就是使用c语言的语法（经过一定训练的专业人士能够理解的方式），描述要交给计算机处理的任务，然后经过**C语言编译器**的处理，生成计算机可执行的文件，最后经过计算机的执行，得到最后的处理结果。编译的四个步骤：预处理->编译->汇编->链接，会在后面详细介绍，这里不做赘述。

C语言程序中的唯一入口被称作**主函数**，C程序的执行过程就是执行主函数里的所有代码。

```c
#include <stdio.h>

int main()                   /*这里就是我们的主函数哦*/
{
    printf("C程序中一定是从我开始的");
    return 0;

}

```

小练习

> 搭建C语言环境 使用命令行的形式 编译、执行一个Hello word 的C语言程序，在命令行中输出：hello XXX

> 提示：
gcc xxx.c -o test.exe // 使用gcc编译器 将c语言代码编译成二进制的可执行文件。
test.exe // 直接执行二进制文件


**注意**：

> 人类所书写的C语言代码，计算机是不会看的，计算机只能看懂经过编译器翻译过的二进制命令。我们写的代码其实是写给未来阅读代码的人看（通常是未来的自己😭），所以在书写时请尽量保证代码的整齐和表意的清晰，必要时辅以简洁的注释。

### 基本数据结构

数据结构是计算机存储、组织数据的形式，是计算机程序的基本组成部分，对数据结构的掌握，是编程的基本功，这里先介绍C语言中最简单的基本数据结构。

#### 保存数据的小盒子——变量

现阶段的计算机能够处理的仅仅是数字，而且是二进制的数字，只有0和1。从本质上说，计算机处理和保存的所有数据其实都是二进制数字，只是表现的形式不一样，即使用不同的二进制数字来表示数据，而在程序执行中，这些要计算的数据都保存在变量中。

**变量**，可以看作是存储数据的小盒子，每个变量都会有一个名字（标识符），称作变量名，变量存储的具体数字，就是变量的值（常量可以看作是特殊的变量，常量的值一旦确定就没法修改）。

变量名就是变量的名字，就好比我们身边的每一位童鞋都有姓名，我们通过名字，来区分不同的人，而对于计算机中保存的各类数据，他们的姓名就是它的标识符。C语言的标识符是不可以随便起名字的，必须遵守一定的规则。C 语言规定，标识符可以是字母(A～Z，a～z)、数字(0～9)、下划线_组成的字符串，并且第一个字符必须是字母或下划线。

![变量](/assets/img/c_1.jpg)

变量定义的一般形式为：**数据的类型 变量名**

```c
// 创建一个int类型的小房子
int a;
```

#### 变量的赋值 

使用```=```，将数值存入对应的小盒子里，覆盖原有的值。变量的赋值分为两种方式：

1. 先声明再赋值  
2. 声明的同时赋值

例如：

```c
// 1.先声明再赋值
int num;
num = 10;
// 2.声明的同时赋值 
int num = 10;
```

#### 变量的操作：

变量的操作 就是对数据进行相应的转换，而对变量的一组操作被称作表达式，它返回一个值，即处理过后的数据。

变量的操作：

1. 算术 加减乘除等数学运算
2. 逻辑 与 或 非
3. 关系 大于 小于 等于
4. 三目运算符

>小编下班回家兜里有12元钱，打车回家需要花费11.5元，请使用三目运算符，使用一个表达式，计算一下小编能不能打车回家。

>判断小编能不能打车回家，如果能打车，计算此时小编兜里剩下的钱。

### 究竟有多少种小盒子——变量类型

在我们玩游戏的时候，游戏中的角色是有类型的，有敏捷型、力量型、法术型等等。同样C语言中的数据也是有类型的，C语言中基本数据类型有：整型 浮点型 字符型。为不同类型的数据,计算机会开辟不同类型的小盒子（变量），这意味着它们所表示的内存大小和数据保存形式会有所不同。

数据类型名称 | 存放的数据 | 大小 
---|---|---
int | 存放整数 | 4个字节
float | 用来存放浮点数 | 4个字节  
double | 更精确的浮点数 |8个字节
char | 用来存放字符 | 1个字节

#### 让计算机说话、听话——输入输出函数

int scanf() 函数从标准输入流 stdin 读取输入，并根据提供的 format 来浏览输入。

int printf() 函数把输出写入到标准输出流 stdout ，并根据提供的格式产生输出。

format 是一个简单的常量字符串，可以分别指定 %s、%d、%c、%f 等来输出或读取字符串(字符数组)、整数、字符或浮点数。

```c
printf("Enter a number: ");
// %f 匹配浮点型数据
scanf("%f",&f);
printf("Value = %f", f);

// %c 匹配字符型数据,完全等价于char=getchar(),空格也会被当中字符读入
scanf("%c",&char);
printf("Value = %c", char);
```

#### 类型转换

变量的数据类型存在自动转换的情况，就好比小盒子可以放进大盒子里面一样，下图表示了类型自动转换的规则。

char ——> int ——> float ——> double

其中char类型数据转换为int类型数据遵循ASCII码中的对应值。

小练习：

编写以下代码 练习数据类型的转换和输入输出函数的使用

```c
#include <stdio.h>
int main()
{
    char c;
    // 标准输出
    printf("please input a char: \r\n");
    // 标准输入
    scanf("%c",&c);
    int n =  c;      //将c赋值给n
    float f = c;      //将c赋值给f
    double d = c;     //将c赋值给d
    printf("%d\n",n);
    printf("%f\n",f);
    printf("%lf\n",d);
    return 0;    
}
```

大盒子也可以放在小盒子里，这被称作**强制类型转换**，是通过定义类型转换运算来实现的。其一般形式为：

 **(数据类型) (表达式)**

其作用是把表达式的运算结果强制转换成类型说明符所表示的类型，例如：

```c
int main()
{
    double num = 2.5;      //定义浮点型变量num并赋值为2.5
    // int res = (int)num 保存变换
    printf("num的整数部分是%d\n", (int)num);  
    return 0;
}

```

强制类型转换会导致精度损失，转换后不会改变原数据的类型及变量值，只在本次运算中临时性转换。可以通过赋值新变量的方式，保存变换。

### 课后作业

完成 C 语言程序 BMI计算器 使用者分别输入年龄 身高 体重 得到最后的判断。

预期结果：

![预期结果](/assets/img/c_2.jpg)
